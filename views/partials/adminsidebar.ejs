<aside id="sidebar" class="fixed top-0 left-0 z-40 h-screen w-64 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out bg-gray-100">
  <nav class="py-4 h-full overflow-y-auto">
    <div class="px-4 md:px-6">
      <div class="flex justify-between items-center md:hidden mb-4">
        <h2 class="text-sm font-semibold text-gray-600 uppercase">Menu</h2>
        <button onclick="toggleSidebar()" class="text-gray-600 hover:text-gray-900">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <ul class="mt-4 space-y-2">
        <li>
          <a href="/admin/dashboard" onclick="return false" class="flex items-center px-4 py-2 <%= locals.page == "dashboard" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-th-large mr-3"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="/admin/products" class="flex items-center  nav-link px-4 py-2 <%= locals.page == "products" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg ">
            <i class="fas fa-box mr-3"></i>
            <span>Products</span>
          </a>
        </li>
        <li>
          <a href="/admin/categories" class="flex items-center nav-link px-4 py-2 <%= locals.page == "categories" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-layer-group mr-3"></i>
            <span>Categories</span>
          </a>
        </li>
        <li>
          <a href="/admin/orders" class="flex items-center nav-link px-4 py-2 <%= locals.page == "orders" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-shopping-cart mr-3"></i>
            <span>Orders</span>
          </a>
        </li>
        <li>
          <a href="/admin/coupons" 
            class="flex items-center px-4 py-2 nav-link <%= locals.page == "coupons" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-ticket-alt mr-3"></i>
            <span>Coupons</span>
          </a>
        </li>
        <li>
          <a href="/admin/offers" 
            class="flex items-center nav-link px-4 py-2 <%= locals.page == "offers" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-gift mr-3"></i>
            <span>Offers</span>
          </a>
        </li>
        <li>
          <a href="/admin/banners" onclick="return false"
            class="flex items-center nav-link px-4 py-2  <%= locals.page == "banners" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %>  rounded-lg">
            <i class="fas fa-images mr-3"></i>
            <span>Banner</span>
          </a>
        </li>
        <li>
          <a href="/admin/sales-report" 
            class="flex items-center nav-link px-4 py-2 <%= locals.page == "salesreport" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-receipt mr-3"></i>
            <span>Sales Report</span>
          </a>
        </li>
        <li>
          <a href="/admin/customers" class="flex nav-link items-center px-4 py-2 <%= locals.page == "customers" ? "bg-primary-accent text-gray-200 hover:bg-primary-hover" : "text-gray-800 hover:bg-gray-200" %> rounded-lg">
            <i class="fas fa-users mr-3"></i>
            <span>Customers</span>
          </a>
        </li>
        <li>
          <a href="/admin/logout" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
            <i class="fas fa-sign-out-alt mr-3"></i>
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</aside>

<div id="sidebarOverlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden md:hidden"></div>

<!-- Mobile Header -->
<div class="md:hidden fixed top-0 left-0 right-0 z-30 bg-white shadow-md px-4 py-2 flex justify-between items-center">
  <h1 class="text-xl font-semibold text-gray-800">Admin Dashboard</h1>
  <button onclick="toggleSidebar()" class="text-gray-600 hover:text-gray-900">
    <i class="fas fa-bars"></i>
  </button>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('sidebarOverlay');
  
  if (sidebar.classList.contains('-translate-x-full')) {
    // Open sidebar
    sidebar.classList.remove('-translate-x-full');
    overlay.classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // Prevent body scroll when sidebar is open
  } else {
    // Close sidebar
    sidebar.classList.add('-translate-x-full');
    overlay.classList.add('hidden');
    document.body.style.overflow = ''; // Restore body scroll
  }
}

// Close sidebar when screen size changes to desktop
window.addEventListener('resize', () => {
  if (window.innerWidth >= 768) { // md breakpoint
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    sidebar.classList.remove('-translate-x-full');
    overlay.classList.add('hidden');
    document.body.style.overflow = '';
  }
});
</script>
