<%- include('../partials/adminheader') %>


<div class="flex">
  <!-- Sidebar -->
  <aside class="bg-gray-100 w-full md:w-64 min-h-screen hidden md:block">
    <nav class="py-4">
      <div class="px-6">
        <h2 class="text-sm font-semibold text-gray-600 uppercase">Menu</h2>
        <ul class="mt-4 space-y-2">
          <li>
            <a href="/dashboard" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-th-large mr-3"></i> Dashboard
            </a>
          </li>
          <li>
            <a href="/products" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-box mr-3"></i> Products
            </a>
          </li>
          <li>
            <a href="/categories" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-layer-group mr-3"></i> Category
            </a>
          </li>
          <li>
            <a href="/orders" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-shopping-cart mr-3"></i> Orders
            </a>
          </li>
          <li>
            <a href="/coupons" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-ticket-alt mr-3"></i> Coupon
            </a>
          </li>
          <li>
            <a href="/banners" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-images mr-3"></i> Banner
            </a>
          </li>
          <li>
            <a href="/transactions" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-receipt mr-3"></i> Transaction
            </a>
          </li>
        </ul>
      </div>
      
      <div class="px-6 mt-8">
        <h2 class="text-sm font-semibold text-gray-600 uppercase">User Management</h2>
        <ul class="mt-4 space-y-2">
          <li>
            <a href="/admins" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-user-shield mr-3"></i> Manage Admins
            </a>
          </li>
          <li>
            <a href="/customers" class="flex items-center px-4 py-2 bg-primary-accent text-gray-200 hover:bg-primary-hover rounded-lg">
              <i class="fas fa-users mr-3"></i> Customers
            </a>
          </li>
        </ul>
      </div>

      <div class="px-6 mt-8">
        <h2 class="text-sm font-semibold text-gray-600 uppercase">Others</h2>
        <ul class="mt-4 space-y-2">
          <li>
            <a href="/settings" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-cogs mr-3"></i> Settings
            </a>
          </li>
          <li>
            <a href="/help" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-question-circle mr-3"></i> Help
            </a>
          </li>
          <li>
            <a href="/logout" class="flex items-center px-4 py-2 text-gray-800 hover:bg-gray-200 rounded-lg">
              <i class="fas fa-sign-out-alt mr-3"></i> Logout
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="py-12 flex-grow flex justify-center items-center">
    <div class="bg-primary-white rounded-lg shadow-lg max-w-7xl w-full overflow-hidden">
      <!-- Page Header -->
      <div class="flex justify-between items-center bg-gray-50 px-6 py-4 border-b">
        <h1 class="text-2xl font-semibold text-gray-800">All Customers</h1>
        <button class="flex items-center bg-primary-accent text-white px-4 py-2 rounded-md shadow">
          <i class="fas fa-download mr-2"></i> Export
        </button>
      </div>

      <!-- Search and Filters -->
      <div class="flex justify-between items-center bg-gray-50 px-6 py-4 border-b">
        <div class="text-gray-600">Showing Active Members</div>
        <div class="flex gap-4">
          <input
            type="text"
            placeholder="Search customers"
            class="border rounded-md px-4 py-2 w-60"
          />
          <select class="border rounded-md px-4 py-2">
            <option value="newest">Sort by: Newest</option>
            <option value="oldest">Sort by: Oldest</option>
          </select>
        </div>
      </div>

      <!-- Customer Table -->
      <table class="w-full table-auto bg-white">

		  <thead class="text-left bg-gray-50 text-gray-600 font-semibold text-sm">
        <tr>
          <th class="px-6 py-4">Customer Name</th>
          <th class="px-6 py-4">Phone Number</th>
          <th class="px-6 py-4">Email</th>
          <th class="px-6 py-4 min-w-[120px]">Status</th> <!-- Set min width for status -->
          <th class="px-6 py-4">Actions</th>
        </tr>
      </thead>
      <tbody class="text-gray-800 text-sm">
        <% customers.forEach(customer => { %>
          <tr class="border-b hover:bg-gray-50">
            <td class="px-6 py-4"><%= customer.name %></td>
            <td class="px-6 py-4"><%= customer.phone %></td>
            <td class="px-6 py-4"><%= customer.email %></td>
            <td class="px-6 py-4">
              <span class="px-4 py-2 rounded-md shadow text-white 
                <%= customer.status === 'Active' ? 'text-green-500' : 'text-primary-accent' %>">
                <%= customer.status %>
              </span>
            </td>
            <td class="px-6 py-4 flex gap-2">
              <% if (customer.status === 'Active') { %>
                <form action="/customers/block/<%= customer.id %>" method="POST">
                  <button
                    type="submit"
                    class="bg-primary-accent text-white px-4 py-2 rounded-md shadow hover:bg-red-700 min-w-[120px]"
                  >
                    Block
                  </button>
                </form>
              <% } else { %>
                <form action="/customers/unblock/<%= customer.id %>" method="POST">
                  <button
                    type="submit"
                    class="bg-green-500 text-white px-4 py-2 rounded-md shadow hover:bg-green-700 min-w-[120px]"
                  >
                    Unblock
                  </button>
                </form>
              <% } %>
            </td>
          </tr>
        <% }); %>
      </tbody>
      </table>
      
      <!-- Pagination -->
      <div class="flex justify-between items-center px-6 py-4 bg-gray-50 border-t text-sm text-gray-600">
        <span>Showing 1 to 10 of 100 entries</span>
        <div class="flex gap-2">
          <button class="px-3 py-1 border rounded-md">1</button>
          <button class="px-3 py-1 border rounded-md">2</button>
          <button class="px-3 py-1 border rounded-md">3</button>
        </div>
      </div>
    </div>
  </main>
</div>
<%- include('../partials/adminfooter') %>
